import{_ as h,r as i,c as f,o,a as l,b as e,w as b,d as y,e as w,v as g,t as d,f as v,F as S,g as V}from"./index-Cq_WT0L-.js";const k={class:"search-container"},x={class:"search-card"},N={class:"form-group"},B={key:0,class:"error-message"},T=["disabled"],E={key:0,class:"result-card"},j={class:"result-item"},q={class:"result-value"},C={class:"lottery-numbers"},D={__name:"SearchView",setup(F){const s=i(""),r=i(""),n=i(null),m=()=>{s.value.trim()?r.value="":r.value="請輸入學號"},c=f(()=>s.value.trim()!==""&&r.value===""),p=async()=>{if(c.value)try{const a=await fetch("https://lottery-system.onrender.com/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_number:s.value})});if(!a.ok)throw new Error("查詢失敗");const t=await a.json();n.value=t}catch(a){console.error("Error searching lotteries:",a),r.value="查詢失敗，請稍後再試",n.value=null}};return(a,t)=>(o(),l("div",k,[e("div",x,[t[2]||(t[2]=e("h1",null,"抽獎序號查詢",-1)),e("form",{onSubmit:b(p,["prevent"]),class:"search-form"},[e("div",N,[t[1]||(t[1]=e("label",{for:"student_number"},[y("學號 "),e("span",{class:"required"},"*")],-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>s.value=u),type:"text",id:"student_number",name:"student_number",required:"",onBlur:m},null,544),[[g,s.value]]),r.value?(o(),l("span",B,d(r.value),1)):v("",!0)]),e("button",{type:"submit",disabled:!c.value},"查詢",8,T)],32)]),n.value?(o(),l("div",E,[t[5]||(t[5]=e("h2",null,"查詢結果",-1)),e("div",j,[t[3]||(t[3]=e("label",null,"學號：",-1)),e("span",q,d(s.value),1)]),e("div",C,[t[4]||(t[4]=e("h3",null,"抽獎序號：",-1)),e("ul",null,[(o(!0),l(S,null,V(n.value.lotteries,(u,_)=>(o(),l("li",{key:_},d(u),1))),128))])])])):v("",!0)]))}},M=h(D,[["__scopeId","data-v-5a1078fe"]]);export{M as default};
